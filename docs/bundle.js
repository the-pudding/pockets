!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function i(t){return"boot-cut"==t?"straight":"regular"==t?"straight":"slim"==t?"skinny":t}e.default=function(){return new Promise(function(t,e){!function(t){d3.loadData("assets/data/measurements.csv",function(e,n){var o=n[0].map(function(t,e){return r({},t,{waistSize:+t.waistSize,price:+t.price,maxHeightFront:+t.maxHeightFront,minHeightFront:+t.minHeightFront,rivetHeightFront:+t.rivetHeightFront,maxWidthFront:+t.maxWidthFront,minWidthFront:+t.minWidthFront,maxHeightBack:+t.maxHeightBack,minHeightBack:+t.minHeightBack,maxWidthBack:+t.maxWidthBack,minWidthBack:+t.minWidthBack,updatedStyle:i(t.style),group:t.menWomen+" - "+i(t.style)})});t(e,o)})}(function(n,r){n?e("error loading data"):t(r)})})}},function(t,e,n){"use strict";var r=c(n(2)),i=c(n(4)),o=(c(n(5)),c(n(7))),a=c(n(10)),u=c(n(12)),s=c(n(14));function c(t){return t&&t.__esModule?t:{default:t}}var l=d3.select("body"),d=0;l.classed("is-mobile",i.default.any()),window.addEventListener("resize",(0,r.default)(function(){var t=l.node().offsetWidth;d!==t&&(d=t)},150)),function(){if(l.select("header").classed("is-sticky")){var t=l.select(".header__menu"),e=l.select(".header__toggle");e.on("click",function(){var n=t.classed("is-visible");t.classed("is-visible",!n),e.classed("is-visible",!n)})}}(),(0,s.default)({selector:".scroll",offset:.5,enter:function(t){var e=d3.select(".logo"),n=d3.select(".is-sticky");e.transition().duration(300).style("display","none").style("opacity","0"),n.transition().duration(200).style("height","35px")},exit:function(t){var e=d3.select(".logo");d3.select(".is-sticky").transition().duration(200).style("height","155px"),e.transition().duration(300).style("display","block").style("opacity","1")}}),o.default.init(),a.default.init(),u.default.init()},function(t,e,n){(function(e){var n=NaN,r="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,s=parseInt,c="object"==typeof e&&e&&e.Object===Object&&e,l="object"==typeof self&&self&&self.Object===Object&&self,d=c||l||Function("return this")(),f=Object.prototype.toString,h=Math.max,p=Math.min,m=function(){return d.Date.now()};function g(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function v(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&f.call(t)==r}(t))return n;if(g(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=g(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var c=a.test(t);return c||u.test(t)?s(t.slice(2),c?2:8):o.test(t)?n:+t}t.exports=function(t,e,n){var r,i,o,a,u,s,c=0,l=!1,d=!1,f=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function x(e){var n=r,o=i;return r=i=void 0,c=e,a=t.apply(o,n)}function y(t){var n=t-s;return void 0===s||n>=e||n<0||d&&t-c>=o}function b(){var t=m();if(y(t))return w(t);u=setTimeout(b,function(t){var n=e-(t-s);return d?p(n,o-(t-c)):n}(t))}function w(t){return u=void 0,f&&r?x(t):(r=i=void 0,a)}function F(){var t=m(),n=y(t);if(r=arguments,i=this,s=t,n){if(void 0===u)return function(t){return c=t,u=setTimeout(b,e),l?x(t):a}(s);if(d)return u=setTimeout(b,e),x(s)}return void 0===u&&(u=setTimeout(b,e)),a}return e=v(e)||0,g(n)&&(l=!!n.leading,o=(d="maxWait"in n)?h(v(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f),F.cancel=function(){void 0!==u&&clearTimeout(u),c=0,r=s=i=u=void 0},F.flush=function(){return void 0===u?a:w(m())},F}}).call(this,n(3))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={android:function(){return navigator.userAgent.match(/Android/i)},blackberry:function(){return navigator.userAgent.match(/BlackBerry/i)},ios:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},opera:function(){return navigator.userAgent.match(/Opera Mini/i)},windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return r.android()||r.blackberry()||r.ios()||r.opera()||r.windows()}};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};n(6);var i=null,o=d3.selectAll(".area-graphic");e.default={init:function(){return new Promise(function(t){d3.loadData("assets/data/measurements.csv",function(e,n){i=n[0].map(function(t,e){return r({},t,{waistSize:+t.waistSize,price:+t.price,maxHeightFront:+t.maxHeightFront,minHeightFront:+t.minHeightFront,rivetHeightFront:+t.rivetHeightFront,maxWidthFront:+t.maxWidthFront,minWidthFront:+t.minWidthFront,maxHeightBack:+t.maxHeightBack,minHeightBack:+t.minHeightBack,maxWidthBack:+t.maxWidthBack,minWidthBack:+t.minWidthBack})}),function(){var t=o,e=i.map(function(t){var e;return e="boot-cut"==t.style?"straight":"regular"==t.style?"straight":"slim"==t.style?"skinny":t.style,r({},t,{updatedStyle:e,group:t.menWomen+" - "+e})}),n=d3.nest().key(function(t){return t.group}).entries(e);t.selectAll(".chart").data(n).enter().append("div.chart").areaChart()}(),t()})})},resize:function(){}}},function(t,e,n){"use strict";d3.selection.prototype.areaChart=function(t){var e=this.nodes().map(function(t){var e=d3.select(t),n=e.datum(),r=0,i=0,o=d3.scaleLinear(),a=null,u=null,s={init:function(){e.append("text").text(function(t){return""+t.key});var t=e.append("div.container");(a=t.append("svg.area-front")).append("g").append("g.g-vis"),(u=t.append("svg.area-back")).append("g").append("g.g-vis"),s.resize(),s.render()},resize:function(){return r=e.node().offsetWidth-0-0,i=e.node().offsetHeight-0-0,a.at({width:r+0+0,height:i+0+0}),u.at({width:r+0+0,height:i+0+0}),o.domain([0,29]).range([0,280]),s},render:function(){return a.select(".g-vis").selectAll(".outline").data(function(t){return t.values}).enter().append("path").attr("d",function(t){var e=["M",[10,10],"l",[0,o(t.maxHeightFront)],"q",[o(t.maxWidthFront/2),o(.1*t.maxHeightFront)],[o(t.maxWidthFront),o(t.minHeightFront-t.maxHeightFront)],"l",[0,-o(t.minHeightFront-t.rivetHeightFront)],"q",[-o(2*t.minWidthFront/3),o(.1*t.maxHeightFront)],[-o(t.minWidthFront),-o(t.rivetHeightFront)],"l",[-o(t.maxWidthFront-t.minWidthFront),0]],n=e.filter(function(t){return!["M","l","L","Q","q"].includes(t)});return d3.polygonArea(n),e.join(" ")}).attr("class","outline"),u.select(".g-vis").selectAll(".outline").data(function(t){return t.values}).enter().append("path").attr("d",function(t){var e=["M",[10,10],"l",[o((t.maxWidthBack-t.minWidthBack)/2),o(t.minHeightBack)],"l",[o(t.minWidthBack/2),o(t.maxHeightBack-t.minHeightBack)],"l",[o(t.minWidthBack/2),-o(t.maxHeightBack-t.minHeightBack)],"l",[o((t.maxWidthBack-t.minWidthBack)/2),-o(t.minHeightBack)],"l",[-o(t.maxWidthBack),0]],n=e.filter(function(t){return!["M","l","L","Q","q"].includes(t)});return d3.polygonArea(n),e.join(" ")}).attr("class","outline"),s},data:function(t){return arguments.length?(n=t,e.datum(n),s.render(),s):n}};return s.init(),s});return e.length>1?e:e.pop()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0));function i(t){return t&&t.__esModule?t:{default:t}}n(8);var o=null,a=(0,i(n(9)).default)(),u=null,s=d3.selectAll(".scroll-graphic"),c=d3.selectAll(".scroll"),l=c.select(".scroll-graphic"),d=(l.select(".scroll-svg"),c.select(".scroll-text").selectAll(".step"));function f(){window.innerWidth;var t=Math.floor(.8*window.innerHeight);d.style("height",t+"px");var e=c.node().offsetWidth;l.style("width",e+"px"),a.resize()}function h(t){var e=t.index;u(e)}e.default={init:function(){Promise.all([(0,r.default)()]).then(function(t){o=t[0],function(){var t=s,e=(d3.nest().key(function(t){return t.menWomen}).entries(o),d3.nest().key(function(t){return t.menWomen}).rollup(function(t,e){var n={brand:"average",maxHeightFront:d3.round(d3.mean(t,function(t){return t.maxHeightFront}),1),minHeightFront:d3.round(d3.mean(t,function(t){return t.minHeightFront}),1),rivetHeightFront:d3.round(d3.mean(t,function(t){return t.rivetHeightFront}),1),maxWidthFront:d3.round(d3.mean(t,function(t){return t.maxWidthFront}),1),minWidthFront:d3.round(d3.mean(t,function(t){return t.minWidthFront}),1),maxHeightBack:d3.round(d3.mean(t,function(t){return t.maxHeightBack}),1),minHeightBack:d3.round(d3.mean(t,function(t){return t.minHeightBack}),1),maxWidthBack:d3.round(d3.mean(t,function(t){return t.maxWidthBack}),1),minWidthBack:d3.round(d3.mean(t,function(t){return t.minWidthBack}),1)};return t[t.length]=n,t}).entries(o)),n=t.datum(e).scrollChart();u=n.toggle,f(),a.setup({container:".scroll",graphic:".scroll-graphic",text:".scroll-text",step:".step",debug:!1}).onStepEnter(h)}()}).catch(function(t){return console.log(t)})},resize:f}},function(t,e,n){"use strict";d3.selection.prototype.scrollChart=function(t){var e=this.nodes().map(function(t){var e=d3.select(t),n=e.datum(),r=0,i=0,o=d3.scaleLinear(),a=null,u=null,s={init:function(){var t=e.append("div.container");a=t.append("svg.scroll-svg"),u=a.selectAll(".group-mw").data(n).enter().append("g").attr("class",function(t){return"group-mw group-"+t.key}),s.resize(),s.render()},resize:function(){return r=e.node().offsetWidth-0-0,i=300,a.at({width:r+0+0,height:i+0+0}),o.domain([0,29]).range([0,280]),s},render:function(){return u.selectAll(".outline").data(function(t){return t.value}).enter().append("path").attr("d",function(t){var e=["M",[10,10],"l",[0,o(t.maxHeightFront)],"q",[o(t.maxWidthFront/2),o(.1*t.maxHeightFront)],[o(t.maxWidthFront),o(t.minHeightFront-t.maxHeightFront)],"l",[0,-o(t.minHeightFront-t.rivetHeightFront)],"q",[-o(2*t.minWidthFront/3),o(.1*t.maxHeightFront)],[-o(t.minWidthFront),-o(t.rivetHeightFront)],"l",[-o(t.maxWidthFront-t.minWidthFront),0]],n=e.filter(function(t){return!["M","l","L","Q","q"].includes(t)});return d3.polygonArea(n),e.join(" ")}).attr("class",function(t){return"average"==t.brand?"outline-average":"outline"}).attr("transform","translate("+r/2.75+",0)").attr("stroke-dasharray",function(t){return this.getTotalLength()}).attr("stroke-dashoffset",function(t){return this.getTotalLength()}),a.select(".group-women").attr("transform","translate("+-r/3+", 0)"),a.select(".group-men").attr("transform","translate("+r/3+", 0)"),s},data:function(t){return arguments.length?(n=t,e.datum(n),s.render(),s):n},toggle:function(t){var e=a.select(".group-women"),n=a.select(".group-men");0==t&&(e.transition().duration(500).attr("transform","translate("+-r/3+", 0)"),e.selectAll(".outline").style("stroke-opacity",.1).transition().duration(500).delay(function(t,e){return 100*e}).attr("stroke-dashoffset",0),n.transition().duration(500).attr("transform","translate("+r/3+", 0)"),n.selectAll(".outline").style("stroke-opacity",.1).transition().duration(500).delay(function(t,e){return 100*e}).attr("stroke-dashoffset",0),e.selectAll(".outline-average").attr("stroke-dashoffset",function(t){return this.getTotalLength()}),n.selectAll(".outline-average").attr("stroke-dashoffset",function(t){return this.getTotalLength()})),1==t&&(e.selectAll(".outline-average").raise().transition().duration(500).delay(function(t,e){return 100*e}).attr("stroke-dashoffset",0),n.selectAll(".outline-average").raise().transition().duration(500).delay(function(t,e){return 100*e}).attr("stroke-dashoffset",0),e.selectAll(".outline").transition().duration(800).style("stroke-opacity",.02),n.selectAll(".outline").transition().duration(800).style("stroke-opacity",.02)),2==t&&(e.transition().duration(500).attr("transform","translate(0, 0)"),n.transition().duration(500).attr("transform","translate(0, 0)"),e.selectAll(".outline").transition().duration(800).style("stroke-opacity",0),n.selectAll(".outline").transition().duration(800).style("stroke-opacity",0))}};return s.init(),s});return e.length>1?e:e.pop()}},function(t,e,n){t.exports=function(){"use strict";function t(t){for(var e=t.length,n=[],r=0;r<e;r+=1)n.push(t[r]);return n}function e(t){return t instanceof Element?t:"string"==typeof t?document.querySelector(t):null}function n(t){return"scrollama__debug-step--"+t.id+"-"+t.i}function r(t){return"scrollama__debug-offset--"+t.id}function i(t){var e=t.id,i=t.offsetVal,o=t.stepEl,a=o[0].getAttribute("class");o.forEach(function(t,r){return function(t){var e=n({id:t.id,i:t.i}),r=document.createElement("div");r.setAttribute("id",e+"_above"),r.setAttribute("class","scrollama__debug-step"),r.style.position="fixed",r.style.left="0",r.style.width="100%",r.style.backgroundImage="repeating-linear-gradient(45deg, green 0, green 2px, white 0, white 40px)",r.style.border="2px solid green",r.style.opacity="0.33",r.style.zIndex="9999",r.style.display="none",document.body.appendChild(r);var i=document.createElement("div");i.setAttribute("id",e+"_below"),i.setAttribute("class","scrollama__debug-step"),i.style.position="fixed",i.style.left="0",i.style.width="100%",i.style.backgroundImage="repeating-linear-gradient(135deg, orange 0, orange 2px, white 0, white 40px)",i.style.border="2px solid orange",i.style.opacity="0.33",i.style.zIndex="9999",i.style.display="none",document.body.appendChild(i)}({id:e,i:r})}),function(t){var e=t.id,n=t.offsetVal,i=t.stepClass,o=document.createElement("div");o.setAttribute("id",r({id:e})),o.setAttribute("class","scrollama__debug-offset"),o.style.position="fixed",o.style.left="0",o.style.width="100%",o.style.height="0px",o.style.borderTop="2px dashed black",o.style.zIndex="9999";var a=document.createElement("p");a.innerText='".'+i+'" trigger: '+n,a.style.fontSize="12px",a.style.fontFamily="monospace",a.style.color="black",a.style.margin="0",a.style.padding="6px",o.appendChild(a),document.body.appendChild(o)}({id:e,offsetVal:i,stepClass:a})}function o(t){var e=t.id,i=t.stepOffsetHeight,o=t.offsetMargin;t.offsetVal,i.forEach(function(t,r){return function(t){var e=t.h,r=t.offsetMargin,i=n({id:t.id,i:t.i}),o=document.querySelector("#"+i+"_above");o.style.height=e+"px",o.style.top=r-e+"px";var a=document.querySelector("#"+i+"_below");a.style.height=e+"px",a.style.top=r+"px"}({id:e,h:t,i:r,offsetMargin:o})}),function(t){var e=t.offsetMargin,n=r({id:t.id});document.querySelector("#"+n).style.top=e+"px"}({id:e,offsetMargin:o})}function a(t){var e=t.id,r=t.index,i=t.state,o=n({id:e,i:r}),a=document.querySelector("#"+o+"_above"),u=document.querySelector("#"+o+"_below"),s="enter"===i?"block":"none";a&&(a.style.display=s),u&&(u.style.display=s)}return function(){var n=1,r={},u={},s=null,c=null,l=null,d=null,f=0,h=0,p=0,m=0,g=null,v=null,x=null,y=!1,b=!1,w=!1,F=!1,k=0,H=!1,W=!1,B=null,A=null,E=-1,_=null,M=[];function j(t){var e=0;if(t.offsetParent)do{e+=t.offsetTop,t=t.offsetParent}while(t);return e<0?0:e}function O(t){return+t.getAttribute("data-scrollama-index")}function P(){window.pageYOffset>E?_="down":window.pageYOffset<E&&(_="up"),E=window.pageYOffset}function S(){p=window.innerHeight,m=function(){var t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)}(),x=c?c.getBoundingClientRect():null,h=f*p,g=l?l.map(function(t){return t.offsetHeight}):[],v=l?l.map(j):[],b&&y&&J(),w&&o({id:d,stepOffsetHeight:g,offsetMargin:h,offsetVal:f})}function q(t){t&&!b?(y&&J(),b=!0):t||(u.top&&u.top.disconnect(),u.bottom&&u.bottom.disconnect(),u.stepAbove&&u.stepAbove.forEach(function(t){return t.disconnect()}),u.stepBelow&&u.stepBelow.forEach(function(t){return t.disconnect()}),u.stepProgress&&u.stepProgress.forEach(function(t){return t.disconnect()}),u.viewportAbove&&u.viewportAbove.forEach(function(t){return t.disconnect()}),u.viewportBelow&&u.viewportBelow.forEach(function(t){return t.disconnect()}),b=!1)}function z(t,e){if("above"===e)for(var n=0;n<t;n++){var r=B[n];"enter"===r.state&&I(l[n]),"up"===r.direction&&(C(l[n],"down"),I(l[n]))}else if("below"===e)for(var i=B.length-1;i>t;i--){var o=B[i];"enter"===o.state&&I(l[i]),"down"===o.direction&&(C(l[i],"up"),I(l[i]))}}function C(t,e){void 0===e&&(e=!0);var n=O(t),i={element:t,index:n,direction:_};B[n].direction=_,B[n].state="enter",H&&e&&"down"===_&&z(n,"above"),H&&e&&"up"===_&&z(n,"below"),r.stepEnter&&"function"==typeof r.stepEnter&&!M[n]&&(r.stepEnter(i,B),w&&a({id:d,index:n,state:"enter"}),W&&(M[n]=!0)),F&&T(t,"down"===_?0:1)}function I(t){var e=O(t),n={element:t,index:e,direction:_};B[e].direction=_,B[e].state="exit",F&&T(t,"down"===_?1:0),r.stepExit&&"function"==typeof r.stepExit&&(r.stepExit(n,B),w&&a({id:d,index:e,state:"exit"}))}function T(t,e){var n={element:t,index:O(t),progress:e};r.stepProgress&&"function"==typeof r.stepProgress&&r.stepProgress(n)}function L(){var t={direction:_};A.direction=_,A.state="enter",r.containerEnter&&"function"==typeof r.containerEnter&&r.containerEnter(t)}function R(){var t={direction:_};A.direction=_,A.state="exit",r.containerExit&&"function"==typeof r.containerExit&&r.containerExit(t)}function N(t){P(),t.forEach(function(t){var e=t.isIntersecting,r=t.boundingClientRect,i=t.target,o=r.bottom,a=r.height,u=o-h,s=O(i),c=B[s];u>=-n&&(e&&"down"===_&&"enter"!==c.state?C(i,_):e||"up"!==_||"enter"!==c.state?!e&&u>=a&&"down"===_&&"enter"===c.state&&I(i):I(i))})}function V(t){P(),t.forEach(function(t){var e=t.isIntersecting,r=t.boundingClientRect,i=t.target,o=r.bottom,a=r.height,u=o-h,s=O(i),c=B[s];u>=-n&&u<a&&e&&"up"===_&&"enter"!==c.state?C(i,_):u<=n&&!e&&"down"===_&&"enter"===c.state&&I(i)})}function $(t){P(),t.forEach(function(t){var e=t.isIntersecting,n=t.target,r=O(n),i=B[r];e&&"down"===_&&"enter"!==i.state&&"down"!==i.direction&&(C(n,"down"),I(n))})}function D(t){P(),t.forEach(function(t){var e=t.isIntersecting,n=t.target,r=O(n),i=B[r];e&&"up"===_&&"enter"!==i.state&&"up"!==i.direction&&(C(n,"up"),I(n))})}function Q(t){P(),t.forEach(function(t){var e=t.isIntersecting,r=t.intersectionRatio,i=t.boundingClientRect,o=t.target,a=i.bottom;e&&a-h>=-n&&T(o,+r.toFixed(3))})}function Y(t){P();var e=t[0],r=e.isIntersecting,i=e.boundingClientRect;(i.top,i.bottom)>-n&&(r?L():"enter"===A.state&&R())}function G(t){P();var e=t[0],r=e.isIntersecting;e.boundingClientRect.top<n&&(r?L():"enter"===A.state&&R())}function J(){u.viewportAbove&&u.viewportAbove.forEach(function(t){return t.disconnect()}),u.viewportAbove=l.map(function(t,e){var n=v[e],r=-(p-h+g[e]),i=new IntersectionObserver($,{root:null,rootMargin:n+"px 0px "+r+"px 0px",threshold:0});return i.observe(t),i}),u.viewportBelow&&u.viewportBelow.forEach(function(t){return t.disconnect()}),u.viewportBelow=l.map(function(t,e){var n=-(h+g[e]),r=m-v[e]-g[e]-h,i=new IntersectionObserver(D,{root:null,rootMargin:n+"px 0px "+r+"px 0px",threshold:0});return i.observe(t),i}),u.stepAbove&&u.stepAbove.forEach(function(t){return t.disconnect()}),u.stepAbove=l.map(function(t,e){var n=g[e],r=new IntersectionObserver(N,{root:null,rootMargin:n+"px 0px "+(-p+h)+"px 0px",threshold:0});return r.observe(t),r}),u.stepBelow&&u.stepBelow.forEach(function(t){return t.disconnect()}),u.stepBelow=l.map(function(t,e){var n=-h,r=m-p+g[e]+h,i=new IntersectionObserver(V,{root:null,rootMargin:n+"px 0px "+r+"px 0px",threshold:0});return i.observe(t),i}),F&&(u.stepProgress&&u.stepProgress.forEach(function(t){return t.disconnect()}),u.stepProgress=l.map(function(t,e){var n=g[e]-h+"px 0px "+(-p+h)+"px 0px",r=function(t){for(var e=Math.ceil(t/k),n=[],r=1/e,i=0;i<e;i++)n.push(i*r);return n}(g[e]),i=new IntersectionObserver(Q,{root:null,rootMargin:n,threshold:r});return i.observe(t),i})),s&&c&&(function(){u.top&&u.top.unobserve(s);var t={root:null,rootMargin:p+"px 0px -"+p+"px 0px",threshold:0};u.top=new IntersectionObserver(Y,t),u.top.observe(s)}(),function(){u.bottom&&u.bottom.unobserve(s);var t={root:null,rootMargin:"-"+x.height+"px 0px "+x.height+"px 0px",threshold:0};u.bottom=new IntersectionObserver(G,t),u.bottom.observe(s)}())}var K={setup:function(n){var r=n.container,o=n.graphic,a=n.step,u=n.offset;void 0===u&&(u=.5);var h=n.progress;void 0===h&&(h=!1);var p=n.threshold;void 0===p&&(p=4);var m=n.debug;void 0===m&&(m=!1);var g=n.order;void 0===g&&(g=!0);var v=n.once;return void 0===v&&(v=!1),d=function(){var t="abcdefghijklmnopqrstuv",e=t.length,n=(new Date).getTime();return""+[0,0,0].map(function(n){return t[Math.floor(Math.random()*e)]}).join("")+n}(),l=function(e,n){return void 0===n&&(n=document),"string"==typeof e?t(n.querySelectorAll(e)):e instanceof NodeList?t(e):e instanceof Array?e:[]}(a),s=r?e(r):null,c=o?e(o):null,l.length?(w=m,F=h,H=g,W=v,K.offsetTrigger(u),k=Math.max(1,+p),y=!0,w&&i({id:d,stepEl:l,offsetVal:f}),l.forEach(function(t,e){return t.setAttribute("data-scrollama-index",e)}),B=l.map(function(){return{direction:null,state:null}}),A={direction:null,state:null},S(),q(!0),K):(console.error("scrollama error: no step elements"),K)},resize:function(){return S(),K},enable:function(){return q(!0),K},disable:function(){return q(!1),K},destroy:function(){q(!1),Object.keys(r).forEach(function(t){return r[t]=null}),Object.keys(u).forEach(function(t){return u[t]=null})},offsetTrigger:function(t){return t&&(isNaN(t),1)?(f=Math.min(Math.max(0,t),1),K):f},onStepEnter:function(t){return r.stepEnter=t,K},onStepExit:function(t){return r.stepExit=t,K},onStepProgress:function(t){return r.stepProgress=t,K},onContainerEnter:function(t){return r.containerEnter=t,K},onContainerExit:function(t){return r.containerExit=t,K}};return K}}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(11);var r=function(t){return t&&t.__esModule?t:{default:t}}(n(0)),i=null,o=d3.selectAll(".debunk-graphic");function a(){var t=d3.select(this),e=d3.nest().key(function(t){return t.group}).entries(i),n=t.at("data-location");t.selectAll(".chart").data(e).enter().append("div.chart").attr("data-location",n).debunkingChart()}e.default={init:function(){Promise.all([(0,r.default)()]).then(function(t){i=t[0],o.each(a)}).catch(function(t){return console.log(t)})},resize:function(){}}},function(t,e,n){"use strict";d3.selection.prototype.debunkingChart=function(t){var e=this.nodes().map(function(t){var e=d3.select(t),n=e.datum(),r=e.at("data-location"),i=0,o=0,a=d3.scaleLinear(),u=null,s={init:function(){e.append("text").text(function(t){return""+t.key});var t=e.append("div.container");(u=t.append("svg.debunk")).append("g").append("g.g-vis"),s.resize(),s.render()},resize:function(){return i=e.node().offsetWidth-0-0,o=e.node().offsetHeight-0-0,u.at({width:i+0+0,height:o+0+0}),a.domain([0,29]).range([0,280]),s},render:function(){return"front"==r?u.select(".g-vis").selectAll(".outline").data(function(t){return t.values}).enter().append("path").attr("d",function(t){return["M",[10,10],"l",[0,a(t.maxHeightFront)],"q",[a(t.maxWidthFront/2),a(.1*t.maxHeightFront)],[a(t.maxWidthFront),a(t.minHeightFront-t.maxHeightFront)],"l",[0,-a(t.minHeightFront-t.rivetHeightFront)],"q",[-a(2*t.minWidthFront/3),a(.1*t.maxHeightFront)],[-a(t.minWidthFront),-a(t.rivetHeightFront)],"l",[-a(t.maxWidthFront-t.minWidthFront),0]].join(" ")}).attr("class","outline"):"back"==r&&u.select(".g-vis").selectAll(".outline").data(function(t){return t.values}).enter().append("path").attr("d",function(t){return["M",[10,10],"l",[a((t.maxWidthBack-t.minWidthBack)/2),a(t.minHeightBack)],"l",[a(t.minWidthBack/2),a(t.maxHeightBack-t.minHeightBack)],"l",[a(t.minWidthBack/2),-a(t.maxHeightBack-t.minHeightBack)],"l",[a((t.maxWidthBack-t.minWidthBack)/2),-a(t.minHeightBack)],"l",[-a(t.maxWidthBack),0]].join(" ")}).attr("class","outline"),s},data:function(t){return arguments.length?(n=t,e.datum(n),s.render(),s):n}};return s.init(),s});return e.length>1?e:e.pop()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(13);var r=function(t){return t&&t.__esModule?t:{default:t}}(n(0)),i=null,o=null,a=d3.selectAll(".fit-table");e.default={init:function(){Promise.all([(0,r.default)()]).then(function(t){i=t[0],function(){var t=a,e=d3.nest().key(function(t){return t.menWomen}).entries(i);o="phone",t.selectAll(".chart").data(e).enter().append("div.chart").at("data-object",o).fitChart()}()}).catch(function(t){return console.log(t)})},resize:function(){}}},function(t,e,n){"use strict";d3.selection.prototype.fitChart=function(t){var e=this.nodes().map(function(t){var e=d3.select(t),n=e.datum(),r=e.at("data-object"),i=0,o=d3.scaleLinear(),a=null,u=null,s=null,c=d3.map([{object:"phone",width:7,height:14}],function(t){return t.object}),l={init:function(){e.append("text.tk-atlas.text-menWomen").text(function(t){return t.key+"'s"});var t=e.append("div.container");s=t.selectAll(".fit-brand").data(function(t){return t.values}).enter().append("div.area-front").attr("class","fit-brand"),u=s.append("div.display");var n=s.append("div.tooltip");a=u.append("svg.fit-canvas");var r=u.append("div.text");r.append("text.brand.tk-atlas").text(function(t){return t.brand}),r.append("text.style.tk-atlas").text(function(t){return t.updatedStyle});var i=n.append("div.tooltip-text"),o=d3.format("$.2f");i.append("text.tk-atlas").text(function(t){return t.name}),i.append("text.tk-atlas").text(function(t){return""+o(t.price)}),i.append("text.tk-atlas").text(function(t){return t.fabric}),a.append("g").append("g.g-vis"),l.resize(),l.render()},resize:function(){return i=u.node().offsetWidth-0-0,u.node().offsetHeight,a.at({width:i+0+0,height:300}),o.domain([0,29]).range([0,225]),l},render:function(){var t=a.select(".g-vis");return t.selectAll(".outline").data(function(t){return[t]}).enter().append("path").attr("d",function(t){var e=["M",[10,10],"l",[0,o(t.maxHeightFront)],"q",[o(t.maxWidthFront/2),o(.1*t.maxHeightFront)],[o(t.maxWidthFront),o(t.minHeightFront-t.maxHeightFront)],"l",[0,-o(t.minHeightFront-t.rivetHeightFront)],"q",[-o(2*t.minWidthFront/3),o(.1*t.maxHeightFront)],[-o(t.minWidthFront),-o(t.rivetHeightFront)],"l",[-o(t.maxWidthFront-t.minWidthFront),0]],n=e.filter(function(t){return!["M","l","L","Q","q"].includes(t)});return d3.polygonArea(n),e.join(" ")}).attr("class","outline"),t.selectAll(".measure measure-maxHeight").data(function(t){return[t]}).enter().append("text").text(function(t){return d3.round(.393*t.maxHeightFront,1)+'"'}).attr("alignment-baseline","hanging").attr("text-anchor","end").attr("transform",function(t){return"translate(5, "+o(t.maxHeightFront/2)+")"}).attr("class","tk-atlas measure measure-maxHeight"),t.selectAll(".measure measure-minHeight").data(function(t){return[t]}).enter().append("text").text(function(t){return d3.round(.393*t.minHeightFront,1)+'"'}).attr("alignment-baseline","hanging").attr("text-anchor","start").attr("transform",function(t){return"translate("+(o(t.maxWidthFront)+15)+", "+o(t.rivetHeightFront+(t.minHeightFront-t.rivetHeightFront)/2)+")"}).attr("class","tk-atlas measure measure-minHeight"),t.selectAll(".measure measure-maxWidth").data(function(t){return[t]}).enter().append("text").text(function(t){return d3.round(.393*t.maxWidthFront,1)+'"'}).attr("alignment-baseline","hanging").attr("text-anchor","middle").attr("transform",function(t){return"translate("+(o(t.maxWidthFront/2)+10)+", "+(o(t.maxHeightFront)+25)+")"}).attr("class","tk-atlas measure measure-maxWidth"),t.selectAll(".measure measure-minWidth").data(function(t){return[t]}).enter().append("text").text(function(t){return d3.round(.393*t.minWidthFront,1)+'"'}).attr("alignment-baseline","hanging").attr("text-anchor","middle").attr("transform",function(t){return"translate("+(o(t.maxWidthFront-t.minWidthFront+t.minWidthFront/2)+10)+", "+o(t.rivetHeightFront/2)+")"}).attr("class","tk-atlas measure measure-minWidth"),t.node().getBBox().width,t.attr("transform",function(e){var n=this.getBBox().width,r=t.selectAll(".measure-maxHeight").node().getBBox().width;return"translate("+((i-n)/2+r/2)+", 0)"}),s.select(".display").classed("dimmed",function(t){var e=c.get(r).width,n=c.get(r).height;if(t.minWidthFront,t.minHeightFront,t.rivetHeightFront,t.minWidthFront<e||t.maxHeightFront<n)return!0}),l},data:function(t){return arguments.length?(n=t,e.datum(n),l.render(),l):n}};return l.init(),l});return e.length>1?e:e.pop()}},function(t,e,n){"use strict";var r,i;void 0===(i="function"==typeof(r=function(){return function(t){function e(){h=!1;var t=function(){if(c&&"number"==typeof c){var t=Math.min(Math.max(0,c),1);return m-t*m}return m}();(p=p.filter(function(e){var n=e.getBoundingClientRect().top<t;if(n&&!e.__enter_view){if(a(e),d)return!1}else!n&&e.__enter_view&&u&&u(e);return e.__enter_view=n,!0})).length||window.removeEventListener("scroll",n,!0)}function n(){h||(h=!0,f(e))}function r(){(function(){var t=document.documentElement.clientHeight,e=window.innerHeight||0;m=Math.max(t,e)})(),e()}function i(t){for(var e=t.length,n=[],r=0;r<e;r+=1)n.push(t[r]);return n}var o=t.selector,a=t.enter,u=t.exit,s=t.offset,c=void 0===s?0:s,l=t.once,d=void 0!==l&&l,f=null,h=!1,p=[],m=0;o&&a||console.error("must set selector and enter options"),f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)},p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"==typeof t?i(e.querySelectorAll(t)):t instanceof NodeList?i(t):t instanceof Array?t:void 0}(o),window.addEventListener("resize",r,!0),window.addEventListener("scroll",n,!0),r(),e()}})?r.call(e,n,e,t):r)||(t.exports=i)}]);